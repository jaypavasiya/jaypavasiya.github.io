"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[966],{5966:function(e,n,a){a.r(n);var t=a(4942),r=a(1413),l=a(4165),s=a(5861),i=a(885),o=a(7313),c=a(7890),d=a(7377),u=a(1547),h=a(1159),p=a(1480),m=a(6417);n.default=function(){var e,n,a,v=(0,c.s0)(),f=(0,o.useState)({}),x=(0,i.Z)(f,2),j=x[0],g=x[1],b=(0,o.useState)(""),y=(0,i.Z)(b,2),N=y[0],_=y[1];(0,o.useEffect)((function(){return w("player","1"),function(){}}),[]);var w=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(n,a){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={api:d.c.BANKING.GET_LIST,value:{type:n,page:a||"1",limit:"10"}},e.next=3,(0,p.Fv)(t).then((function(e){var n,a,t,r;console.log(e),null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.player)||void 0===t||t.results.forEach((function(e){e.formData={id:e._id,amount:0,credit_ref:e.credit_ref,Ttype:"deposit",remark:"Deposit"}})),g(null===(r=e.data)||void 0===r?void 0:r.data)})).catch((function(e){401===e.response.data.statusCode&&((0,u.R)(),v("/login"))}));case 3:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(n){var a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={api:d.c.BANKING.UPDATE,value:n},e.next=3,(0,p.Fv)(a).then((function(e){console.log(e),w("player","1")})).catch((function(e){401===e.response.data.statusCode&&((0,u.R)(),v("/login"))}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(e,n){var a,l=e.target,s=l.value,i=l.name;"amount"!==i&&"credit_ref"!==i||(s=Number(s));var o=JSON.parse(JSON.stringify(j));null===(a=o.player)||void 0===a||a.results.forEach((function(e){e._id===n._id&&(e.formData=(0,r.Z)((0,r.Z)({},e.formData),{},(0,t.Z)({id:e._id},i,s)))})),console.log(o),g(o)};return(0,m.jsxs)("div",{className:"container banking player",children:[(0,m.jsxs)("div",{className:"top_header mt-3",children:[(0,m.jsx)("div",{className:"top_header_left",children:(0,m.jsxs)("div",{className:"top_header_left_wrp",children:[(0,m.jsx)("strong",{className:"text-primary",children:"Player Banking"})," | ",(0,m.jsx)("strong",{children:"Your Balance"})," : PTH ",(0,m.jsx)("span",{className:"h5",children:null===j||void 0===j?void 0:j.remaining_balance})]})}),(0,m.jsx)("div",{className:"top_header_right",children:(0,m.jsx)(h.Z,{searchSubmit:function(e){}})})]}),(0,m.jsx)("div",{className:"banking_content",children:(0,m.jsx)("div",{className:"banking_content_table",children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{id:"resultTable",className:"table01 margin-table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Account(Player)"}),(0,m.jsx)("th",{children:"Remaining Balance"}),(0,m.jsx)("th",{children:"Available Balance"}),(0,m.jsx)("th",{children:"Exposure"}),(0,m.jsx)("th",{children:"Deposit / Withdraw "}),(0,m.jsx)("th",{children:"Credit Reference"}),(0,m.jsx)("th",{children:"Reference P/L"}),(0,m.jsx)("th",{children:"Remark"})]})}),(0,m.jsx)("tbody",{children:null!==(e=j.player)&&void 0!==e&&e.results&&(null===(n=j.player)||void 0===n?void 0:n.results.length)>0?null===(a=j.player)||void 0===a?void 0:a.results.map((function(e,n){var a,t,r,l,s;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("span",{className:"badge bg-warning",children:e.agent_level})," ",e.user_name," [",e.firstName," ",e.lastName,"]"]}),(0,m.jsx)("td",{children:e.remaining_balance}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.balance}),(0,m.jsx)("td",{children:e.exposure}),(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"dw_wrp",children:[(0,m.jsx)("div",{className:"dw_wrp_dw",children:(0,m.jsxs)("div",{className:"btn-group credit-type",role:"group","aria-label":"Basic radio toggle button group",onChange:function(n){return D(n,e)},children:[(0,m.jsx)("input",{type:"radio",className:"btn-check",name:"Ttype",id:"d",value:"deposit",autoComplete:"off",checked:"deposit"===(null===(a=e.formData)||void 0===a?void 0:a.Ttype)}),(0,m.jsx)("label",{className:"btn btn-outline-primary shadow-none",htmlFor:"d",children:"D"}),(0,m.jsx)("input",{type:"radio",className:"btn-check",name:"Ttype",id:"w",value:"withdraw",autoComplete:"off",checked:"withdraw"===(null===(t=e.formData)||void 0===t?void 0:t.Ttype)}),(0,m.jsx)("label",{className:"btn btn-outline-danger shadow-none",htmlFor:"w",children:"W"})]})}),(0,m.jsx)("div",{className:"dw_wrp_am",children:(0,m.jsx)("input",{type:"number",style:{width:"150px"},name:"amount",step:"0.01",onChange:function(n){return D(n,e)},value:null===e||void 0===e||null===(r=e.formData)||void 0===r?void 0:r.amount,className:"form-control",placeholder:"Enter Amount"})})]})}),(0,m.jsx)("td",{children:(0,m.jsx)("input",{type:"number",style:{width:"100px"},name:"credit_ref",onChange:function(n){return D(n,e)},value:null===e||void 0===e||null===(l=e.formData)||void 0===l?void 0:l.credit_ref,step:"0.01",className:"form-control"})}),(0,m.jsx)("td",{className:"text-green",children:e.ref_pl}),(0,m.jsx)("td",{children:(0,m.jsx)("input",{type:"text",style:{width:"150px"},name:"remark",className:"form-control",onChange:function(n){return D(n,e)},value:null===e||void 0===e||null===(s=e.formData)||void 0===s?void 0:s.remark})})]},e._id)})})):(0,m.jsx)(m.Fragment,{})})]})})})}),(0,m.jsx)("div",{className:"banking_content_footer",children:(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"input-group",children:[(0,m.jsx)("input",{type:"password",onChange:function(e){return function(e){_(e.target.value)}(e)},value:N,className:"form-control",placeholder:"Password",name:"password"}),(0,m.jsx)("button",{className:"btn btn_black",type:"submit",onClick:function(e){return function(e){var n,a=[];null===(n=j.player)||void 0===n||n.results.forEach((function(e){a.push(e.formData)})),e.preventDefault();var t={type:"player",password:N,usersData:a};console.log(t),k(t)}(e)},id:"basic-addon2",children:"Submit"})]})})})]})}}}]);