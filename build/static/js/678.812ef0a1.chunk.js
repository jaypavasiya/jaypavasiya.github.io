"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[678],{2678:function(e,n,a){a.r(n);var t=a(4942),r=a(1413),s=a(4165),i=a(5861),l=a(885),o=a(7313),c=a(7890),d=a(7377),u=a(1547),h=a(1159),m=a(1480),p=a(6417);n.default=function(){var e,n,a,v=(0,c.s0)(),f=(0,o.useState)({}),x=(0,l.Z)(f,2),g=x[0],j=x[1],b=(0,o.useState)(""),_=(0,l.Z)(b,2),N=_[0],w=_[1],y=(0,o.useState)([{id:"",amount:0,credit_ref:0,Ttype:"",remark:""}]),k=(0,l.Z)(y,2);k[0],k[1],(0,o.useEffect)((function(){return D("agent","1"),function(){}}),[]);var D=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={api:d.c.BANKING.GET_LIST,value:{type:n,page:a||"1",limit:"10"}},e.next=3,(0,m.Fv)(t).then((function(e){var n,a,t,r;console.log(e),null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.agent)||void 0===t||t.results.forEach((function(e){e.formData={id:e._id,amount:0,credit_ref:e.credit_ref,Ttype:"deposit",remark:"Deposit"}})),j(null===(r=e.data)||void 0===r?void 0:r.data)})).catch((function(e){401===e.response.data.statusCode&&((0,u.R)(),v("/login"))}));case 3:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={api:d.c.BANKING.UPDATE,value:n},e.next=3,(0,m.Fv)(a).then((function(e){console.log(e),D("agent","1")})).catch((function(e){401===e.response.data.statusCode&&((0,u.R)(),v("/login"))}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(e,n){var a,s=e.target,i=s.value,l=s.name;"amount"!==l&&"credit_ref"!==l||(i=Number(i));var o=JSON.parse(JSON.stringify(g));null===(a=o.agent)||void 0===a||a.results.forEach((function(e){e._id===n._id&&(e.formData=(0,r.Z)((0,r.Z)({},e.formData),{},(0,t.Z)({id:e._id},l,i)))})),console.log(o),j(o)};return(0,p.jsxs)("div",{className:"container banking player",children:[(0,p.jsxs)("div",{className:"top_header mt-3",children:[(0,p.jsx)("div",{className:"top_header_left",children:(0,p.jsxs)("div",{className:"top_header_left_wrp",children:[(0,p.jsx)("strong",{className:"text-primary",children:"Player Banking"})," | ",(0,p.jsx)("strong",{children:"Your Balance"})," : PTH ",(0,p.jsx)("span",{className:"h5",children:null===g||void 0===g?void 0:g.remaining_balance})]})}),(0,p.jsx)("div",{className:"top_header_right",children:(0,p.jsx)(h.Z,{searchSubmit:function(e){}})})]}),(0,p.jsx)("div",{className:"banking_content",children:(0,p.jsx)("div",{className:"banking_content_table",children:(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",{id:"resultTable",className:"table01 margin-table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Account(Player)"}),(0,p.jsx)("th",{children:"Remaining Balance"}),(0,p.jsx)("th",{children:"Available Balance"}),(0,p.jsx)("th",{children:"Deposit / Withdraw "}),(0,p.jsx)("th",{children:"Credit Reference"}),(0,p.jsx)("th",{children:"Reference P/L"}),(0,p.jsx)("th",{children:"Remark"})]})}),(0,p.jsx)("tbody",{children:null!==(e=g.agent)&&void 0!==e&&e.results&&(null===(n=g.agent)||void 0===n?void 0:n.results.length)>0?null===(a=g.agent)||void 0===a?void 0:a.results.map((function(e,n){var a,t,r,s,i;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{children:[(0,p.jsx)("span",{className:" badge bg-info text-dark",children:e.agent_level})," ",e.user_name," [",e.firstName," ",e.lastName,"]"]}),(0,p.jsx)("td",{children:e.remaining_balance}),(0,p.jsx)("td",{children:null===e||void 0===e?void 0:e.balance}),(0,p.jsx)("td",{children:(0,p.jsxs)("div",{className:"dw_wrp",children:[(0,p.jsx)("div",{className:"dw_wrp_dw",children:(0,p.jsxs)("div",{className:"btn-group credit-type",role:"group","aria-label":"Basic radio toggle button group",onChange:function(n){return Z(n,e)},children:[(0,p.jsx)("input",{type:"radio",className:"btn-check",name:"Ttype",id:"d",value:"deposit",autoComplete:"off",checked:"deposit"===(null===(a=e.formData)||void 0===a?void 0:a.Ttype)}),(0,p.jsx)("label",{className:"btn btn-outline-primary shadow-none",htmlFor:"d",children:"D"}),(0,p.jsx)("input",{type:"radio",className:"btn-check",name:"Ttype",id:"w",value:"withdraw",autoComplete:"off",checked:"withdraw"===(null===(t=e.formData)||void 0===t?void 0:t.Ttype)}),(0,p.jsx)("label",{className:"btn btn-outline-danger shadow-none",htmlFor:"w",children:"W"})]})}),(0,p.jsx)("div",{className:"dw_wrp_am",children:(0,p.jsx)("input",{type:"number",style:{width:"150px"},name:"amount",step:"0.01",onChange:function(n){return Z(n,e)},value:null===e||void 0===e||null===(r=e.formData)||void 0===r?void 0:r.amount,className:"form-control",placeholder:"Enter Amount"})})]})}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"number",style:{width:"100px"},name:"credit_ref",onChange:function(n){return Z(n,e)},value:null===e||void 0===e||null===(s=e.formData)||void 0===s?void 0:s.credit_ref,step:"0.01",className:"form-control"})}),(0,p.jsx)("td",{className:"text-green",children:e.ref_pl}),(0,p.jsx)("td",{children:(0,p.jsx)("input",{type:"text",style:{width:"150px"},name:"remark",className:"form-control",onChange:function(n){return Z(n,e)},value:null===e||void 0===e||null===(i=e.formData)||void 0===i?void 0:i.remark})})]},e._id)})})):(0,p.jsx)(p.Fragment,{})})]})})})}),(0,p.jsx)("div",{className:"banking_content_footer",children:(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"input-group",children:[(0,p.jsx)("input",{type:"password",onChange:function(e){return function(e){w(e.target.value)}(e)},value:N,className:"form-control",placeholder:"Password",name:"password"}),(0,p.jsx)("button",{className:"btn btn_black",type:"submit",onClick:function(e){return function(e){var n,a=[];null===(n=g.agent)||void 0===n||n.results.forEach((function(e){a.push(e.formData)})),e.preventDefault();var t={type:"agent",password:N,usersData:a};console.log(t),C(t)}(e)},id:"basic-addon2",children:"Submit"})]})})})]})}}}]);